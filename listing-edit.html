<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StudioBid - Create or edit listing</title>
    <meta
      name="description"
      content="Create or edit a StudioBid listing by adding photos, descriptions, starting price, and end time for your creative gear auction."
    />
  </head>
  <body data-page="listing-edit">
    <!-- ===== SITE HEADER (one <header>, two variants) ===== -->
    <header class="header">
      <!-- ===== HEADER: LOGGED OUT ===== -->
      <div class="header header--logged-out" data-header="logged-out">
        <nav class="navbar bg-white py-3">
          <div class="container d-flex align-items-center justify-content-between">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center me-auto" href="index.html">
              <img
                src="/images/logo/studiobid-logo.svg"
                alt="StudioBid"
                class="img-fluid sb-logo"
              />
            </a>

            <!-- Right side buttons -->
            <div class="header-actions d-flex align-items-center gap-3">
              <a href="login.html" class="btn btn-dark btn-studio-small"> Login </a>
              <a href="register.html" class="btn btn-dark btn-studio-small"> Register </a>
            </div>
          </div>
        </nav>
      </div>

      <!-- ===== HEADER: LOGGED IN (toggled by JS) ===== -->
      <div class="header header--logged-in d-none" data-header="logged-in">
        <nav class="bg-white">
          <!-- ===== MOBILE HEADER (under lg) ===== -->
          <div class="d-lg-none">
            <!-- Full-width border under logo/avatar -->
            <div>
              <div class="container py-3 d-flex align-items-center justify-content-between">
                <!-- Logo -->
                <a class="navbar-brand d-flex align-items-center gap-2 mb-0" href="index.html">
                  <img
                    src="/images/logo/studiobid-logo.svg"
                    alt="StudioBid"
                    class="img-fluid sb-logo"
                    width="145"
                    height="30"
                  />
                </a>

                <!-- Avatar + dropdown -->
                <div class="dropdown">
                  <button
                    class="btn d-flex align-items-center gap-2 p-0 border-0 bg-transparent"
                    type="button"
                    id="userMenuButtonMobile"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <span class="fs-5">
                      <i class="bi bi-chevron-down"></i>
                    </span>
                    <span
                      class="d-inline-flex justify-content-center align-items-center rounded-circle border border-2"
                      style="width: 40px; height: 40px"
                    >
                      <!-- Optional: initials/avatar via JS -->
                    </span>
                  </button>

                  <ul
                    class="dropdown-menu dropdown-menu-end shadow-sm"
                    aria-labelledby="userMenuButtonMobile"
                  >
                    <li>
                      <a
                        class="dropdown-item fw-semibold text-primary d-flex align-items-center justify-content-between"
                        href="profile.html"
                      >
                        <span>Profile</span>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item fw-semibold text-primary d-flex align-items-center justify-content-between"
                        href="profile.html#my-listings"
                      >
                        <span>My listings</span>
                        <i class="bi bi-file-earmark-text"></i>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item fw-semibold text-primary d-flex align-items-center justify-content-between"
                        href="profile.html#my-bids"
                      >
                        <span>My bids</span>
                        <i class="bi bi-hammer"></i>
                      </a>
                    </li>
                    <li><hr class="dropdown-divider" /></li>
                    <li>
                      <button
                        class="dropdown-item fw-semibold text-danger d-flex align-items-center justify-content-between"
                        type="button"
                        data-auth="logout"
                      >
                        <span>Logout</span>
                        <i class="bi bi-box-arrow-right"></i>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Buttons row (no border under) -->
            <div class="container py-3 d-flex justify-content-center gap-3 flex-wrap">
              <a
                href="listing-edit.html"
                class="btn btn-dark btn-studio-small d-inline-flex align-items-center gap-2"
              >
                <i class="bi bi-plus-lg fs-5"></i>
                <span>Create listing</span>
              </a>

              <!-- Credits placeholder (mobile) -->
              <div class="header-credits" data-header-credits>Credits: 0</div>
            </div>
          </div>

          <!-- ===== DESKTOP HEADER (lg and up) ===== -->
          <div class="d-none d-lg-block">
            <div class="container py-3 d-flex align-items-center">
              <!-- Logo -->
              <a class="navbar-brand d-flex align-items-center gap-2 me-auto" href="index.html">
                <img
                  src="/images/logo/studiobid-logo.svg"
                  alt="StudioBid"
                  class="img-fluid sb-logo"
                  width="193"
                  height="40"
                />
              </a>

              <!-- Right side actions -->
              <div class="d-flex align-items-center gap-3">
                <a
                  href="listing-edit.html"
                  class="btn btn-dark btn-studio-small d-inline-flex align-items-center gap-2"
                >
                  <i class="bi bi-plus-lg fs-5"></i>
                  <span>Create listing</span>
                </a>

                <!-- Credits placeholder (desktop) -->
                <div class="header-credits" data-header-credits>Credits: 0</div>

                <!-- Avatar + dropdown -->
                <div class="dropdown">
                  <button
                    class="btn d-flex align-items-center gap-2 p-0 border-0 bg-transparent"
                    type="button"
                    id="userMenuButtonDesktop"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <span class="fs-5">
                      <i class="bi bi-chevron-down"></i>
                    </span>
                    <span
                      class="d-inline-flex justify-content-center align-items-center rounded-circle border border-2"
                      style="width: 40px; height: 40px"
                    >
                      <!-- Optional: initials/avatar via JS -->
                    </span>
                  </button>

                  <ul
                    class="dropdown-menu dropdown-menu-end shadow-sm"
                    aria-labelledby="userMenuButtonDesktop"
                  >
                    <li>
                      <a
                        class="dropdown-item fw-semibold text-primary d-flex align-items-center justify-content-between"
                        href="profile.html"
                      >
                        <span>Profile</span>
                        <i class="bi bi-person"></i>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item fw-semibold text-primary d-flex align-items-center justify-content-between"
                        href="profile.html#my-listings"
                      >
                        <span>My listings</span>
                        <i class="bi bi-file-earmark-text"></i>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item fw-semibold text-primary d-flex align-items-center justify-content-between"
                        href="profile.html#my-bids"
                      >
                        <span>My bids</span>
                        <i class="bi bi-hammer"></i>
                      </a>
                    </li>
                    <li><hr class="dropdown-divider" /></li>
                    <li>
                      <button
                        class="dropdown-item fw-semibold text-danger d-flex align-items-center justify-content-between"
                        type="button"
                        data-auth="logout"
                      >
                        <span>Logout</span>
                        <i class="bi bi-box-arrow-right"></i>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="py-5">
      <div class="container">
        <!-- Page heading (JS can change this text for edit mode) -->
        <div class="text-center mb-5">
          <h1 id="listingFormTitle" class="mb-2">Create a new listing</h1>
          <p class="sb-body-lg mb-0">
            Add a title, description, images and an end date so other students can bid on your item.
          </p>
        </div>

        <!-- Form + preview layout -->
        <div class="row gy-5 align-items-start">
          <!-- ===== FORM COLUMN ===== -->
          <div class="col-12 col-lg-8">
            <article class="card sb-form-card w-100">
              <div class="card-body p-4 p-md-5">
                <form id="listingForm" novalidate>
                  <!-- Title -->
                  <div class="mb-3">
                    <label for="listingTitle" class="form-label">Title</label>
                    <input
                      type="text"
                      class="form-control"
                      id="listingTitle"
                      name="title"
                      required
                    />
                    <div class="form-text">
                      Required. Use a clear, specific title, e.g. “Wacom Intuos tablet, medium
                      size”.
                    </div>
                  </div>

                  <!-- Description -->
                  <div class="mb-3">
                    <label for="listingDescription" class="form-label">Description</label>
                    <textarea
                      class="form-control"
                      id="listingDescription"
                      name="description"
                      rows="5"
                      required
                    ></textarea>
                    <div class="form-text">
                      Describe the item, condition and what’s included. 3–5 short lines is enough.
                    </div>
                  </div>

                  <!-- Tags -->
                  <div class="mb-3">
                    <label for="listingTags" class="form-label">Tags</label>
                    <input type="text" class="form-control" id="listingTags" name="tags" />
                    <div class="form-text">
                      Optional. Add a few keywords separated by commas, e.g. “tablet, wacom,
                      drawing”.
                    </div>
                  </div>

                  <!-- Images -->
                  <div class="mb-3">
                    <label for="listingImage" class="form-label">Images</label>
                    <input type="url" class="form-control" id="listingImage" name="image" />
                    <div class="form-text">
                      Paste a full https:// link to an online image. The API checks that it’s
                      publicly accessible.
                    </div>
                  </div>

                  <!-- Alt text -->
                  <div class="mb-3">
                    <label for="listingAlt" class="form-label">Alt text</label>
                    <input type="text" class="form-control" id="listingAlt" name="alt" />
                    <div class="form-text">
                      Short description of the image for accessibility, e.g. “Black Wacom tablet on
                      desk”.
                    </div>
                  </div>

                  <!-- Add another image button -->
                  <div class="sb-btn-add-image-wrapper">
                    <button
                      type="button"
                      class="btn btn-outline-dark btn-studio-small d-inline-flex align-items-center gap-2 sb-btn-add-image"
                    >
                      <i class="bi bi-plus-lg"></i>
                      <span class="text-uppercase fw-semibold small">Add another image</span>
                    </button>
                  </div>

                  <!-- Auction end date & time -->
                  <div class="mb-4">
                    <label for="listingEndsAt" class="form-label">
                      Auction end date &amp; time
                    </label>
                    <div class="input-group sb-search-input-group">
                      <span class="input-group-text">
                        <i class="bi bi-calendar3"></i>
                      </span>
                      <input
                        type="datetime-local"
                        class="form-control"
                        id="listingEndsAt"
                        name="endsAt"
                        required
                      />
                    </div>
                    <div class="form-text">
                      Required. Choose a future date and time when the auction should end.
                    </div>
                  </div>

                  <!-- Buttons row -->
                  <div
                    class="d-flex flex-column flex-md-row justify-content-end gap-3 mt-4"
                    id="createModeButtons"
                  >
                    <button type="button" class="btn btn-danger btn-studio-md">
                      Delete listing
                    </button>
                    <button type="button" class="btn btn-dark btn-studio-md">Cancel</button>
                    <button type="submit" class="btn btn-dark btn-studio-md">Create listing</button>
                  </div>

                  <!-- Edit-mode buttons (JS can toggle d-none when editing) -->
                  <div
                    class="d-none flex-column flex-md-row justify-content-between gap-3 mt-4"
                    id="editModeButtons"
                  >
                    <button type="button" class="btn btn-danger text-uppercase fw-semibold">
                      Delete listing
                    </button>
                    <div class="d-flex flex-column flex-md-row gap-3 ms-md-auto">
                      <button type="button" class="btn btn-outline-dark text-uppercase fw-semibold">
                        Cancel
                      </button>
                      <button type="submit" class="btn btn-dark text-uppercase fw-semibold">
                        Save changes
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </article>
          </div>

          <!-- ===== CARD PREVIEW COLUMN ===== -->
          <div class="col-12 col-lg-4">
            <div class="mb-3 text-center text-lg-start">
              <h5 class="mb-0">Card preview</h5>
            </div>

            <article class="card border-1 rounded-0 h-100 w-100 mx-auto mx-lg-0">
              <!-- Image / placeholder + NEW badge -->
              <div class="position-relative">
                <div
                  class="ratio ratio-4x3 bg-light d-flex align-items-center justify-content-center"
                >
                  <span class="display-5 text-muted opacity-25">
                    <i class="bi bi-gavel"></i>
                  </span>
                </div>

                <span
                  class="badge bg-primary text-uppercase fw-semibold small position-absolute top-0 end-0 m-2"
                >
                  New
                </span>
              </div>

              <div class="bg-secondary text-white text-center fw-semibold py-2">
                Highest bid: 0 credits
              </div>

              <div class="card-body">
                <h3 class="mb-2" id="previewTitle">Listing title</h3>

                <div class="d-flex align-items-center gap-2 mb-2">
                  <i class="bi bi-person"></i>
                  <span class="fw-semibold text-primary" id="previewUsername">Username</span>
                </div>

                <p class="mb-1"><span class="fw-semibold">Bids:</span> 0</p>
                <p class="mb-0"><span class="fw-semibold">Ends in</span> 3h 21m</p>
              </div>

              <div class="card-footer bg-black border-0 p-0 rounded-0">
                <a
                  href="#"
                  class="d-block text-center text-uppercase fw-semibold text-white text-decoration-none py-2"
                >
                  View listing
                </a>
              </div>
            </article>
          </div>
        </div>
      </div>
    </main>

    <!-- ========== FOOTER ========== -->
    <footer class="sb-footer mt-auto py-4">
      <div class="container">
        <div class="row align-items-center gy-3">
          <!-- Left side: logo + text -->
          <div class="col-12 col-md-auto text-center text-md-start">
            <a
              href="index.html"
              class="d-inline-flex align-items-center mb-2 mb-md-0 text-decoration-none"
            >
              <img
                src="/images/logo/studiobid-logo.svg"
                alt="StudioBid logo"
                width="145"
                height="30"
                class="img-fluid"
              />
            </a>

            <p class="mb-0 sb-body-sm text-center text-md-start">
              Concept project for Noroff Semester Project 2
            </p>
            <p class="mb-0 sb-body-sm text-center text-md-start">
              &copy; 2025 &middot; Built by Katja Turnsek
            </p>
          </div>

          <!-- Right side: links -->
          <div
            class="col-12 col-md d-flex flex-column flex-md-row justify-content-center justify-content-md-end text-center text-md-end gap-2 gap-md-4"
          >
            <a href="how.html"> How StudioBid works </a>
          </div>
        </div>
      </div>
    </footer>

    <!-- Vite entry -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
